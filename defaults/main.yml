---
## General
download_location: /tmp

## Packages
packages:
  - tar
  - wget
  - unzip

## Grafana
# Renovate: datasource=github-releases depName=grafana/grafana
grafana_version: v12.3.3
grafana_datasources:
  - name: Prometheus
    type: prometheus
    access: proxy
    orgId: 1
    url: http://127.0.0.1:9090
    editable: true

## Prometheus
prometheus_user: prometheus
# Renovate: datasource=github-releases depName=prometheus/prometheus
prometheus_version: 3.9.1
prometheus_scrape_config_jobs: []

## Node_exporter
node_exporter_user: node_exporter
# Renovate: datasource=github-releases depName=prometheus/node_exporter
node_exporter_version: 1.10.2
node_exporter_architecture: amd64

## Loki
loki_user: loki
# Renovate: datasource=github-releases depName=grafana/loki
loki_version: 3.6.6

## Fluent-bit
fluentbit_user: fluentbit
fluentbit_loki_server: 192.168.129.160

fluentbit_config_service:
  - flush: 1
    log_level: info

fluentbit_config_input:
  - name: tail
    path: /var/log/secure
    tag: vm_secure
    parser: syslog-rfc3164
  - name: tail
    path: /var/log/messages
    tag: vm_messages
    parser: syslog-rfc3164

fluentbit_config_output:
  - name: loki
    match: "*"
    host: "{{ fluentbit_loki_server }}"
    port: 3100
    labels: job=fluentbit_vm
